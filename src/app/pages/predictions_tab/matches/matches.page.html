<!--https://www.flaticon.com/packs/countrys-flags-->
<ion-header>
    <app-menu-toolbar title="Voorspellen"></app-menu-toolbar>
    <ion-segment [(ngModel)]="pouleName"
                 (ionChange)="selectPoule($event)"
                 scrollable
                 mode="md">
        <ion-segment-button *ngFor="let poule of pouleNavigatie; let i = index"
                            [value]="poule.current"
                            (click)="scrollSegments(i+1)"
                            [disabled]="poule.disabled">
            {{poule.text}}
        </ion-segment-button>
    </ion-segment>
</ion-header>
<ion-content>
    <div #topScrollAnchor></div>
    <ion-grid class="ion-no-padding">
        <ion-row>
            <ion-col size="12">
                <ion-card class="message">
                    <ion-card-content>
                        Voorspel de uitslagen van alle wedstrijden in elke poule. Vergeet niet om op opslaan te klikken.
                        Je krijgt 15 punten voor goed voordspellen winnaar/gelijkspel en 5 punten als je de doelpunten
                        van een ploeg goed voorspelt. Voor een volledig goede wedstrijduitslag krijg je 30 punten (5
                        bonuspunten).
                    </ion-card-content>
                </ion-card>
            </ion-col>
        </ion-row>
        <ion-row>
            <ion-col size="12" size-md="6" size-lg="6" size-xl="4" *ngFor="let matchPrediction of matchPredictions">
                <app-match-card
                        [isRegistrationOpen]="uiService.isRegistrationOpen$ | async" [matchPrediction]="matchPrediction"
                        (emitUpdateWedstrijdScore)="updateTable($event)"></app-match-card>
            </ion-col>
        </ion-row>
    </ion-grid>
</ion-content>
<ion-footer class="ion-no-border ion-padding-horizontal" *ngIf="uiService.isRegistrationOpen$ | async">
    <ion-button *ngIf="pouleName !== 'F'" color="secondary" expand="block" fill="solid"
                [disabled]="!areActiveMatchesPredicted()" (click)="next()">
        {{this.uiService.isDirty$.value ? 'Opslaan' : 'Naar volgende poule'}}
    </ion-button>
    <ion-button *ngIf="pouleName === 'F'" color="secondary" expand="block" [disabled]="!areActiveMatchesPredicted()"
                fill="solid"
                (click)="save(true)">{{buttonText}}</ion-button>
</ion-footer>
